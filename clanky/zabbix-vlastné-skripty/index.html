<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Dodoslav - eblog</title>
    <link rel="stylesheet" href="/default.css">
</head>
<body>
  <div class="sidebar">
    <img src="/logo.png">
<h3>Obsah</h3>
<ul>
  <li><a class="" href="/">Novinky</a></li>
  <li><a href="/clanky/">Články</a></li>
  <li><a href="/projekty/">Projekty</a></li>
  <li><a href="/o_stranke/">O stránke</a></li>
</ul>


<h3>Témy</h3>
<ul>
  
</ul>


<h3>Kľúčové slová</h3>
<ul>
  
</ul>
  
  </div>
  <div class="content">
    <h3>Zabbix - vlastné skripty</h3>
    <span>Jan 1, 0001</span>
    Ako zprovozdniť CustomScript-y na Zabbix-e

    <h4 id="zabbix-agent-konfigurácia">Zabbix agent konfigurácia</h4>
<p>Na strane Zabbix agenta je potreba povoliť aby Custom Skript-y vôbec
fungovali, a potom je potreba každý jeden príkaz osobitne pridať, a
priradiť k nemu ako sa tem &quot;item&quot; bude volať.</p>
<h4 id="povolenie-podpory-custom-script-ov">Povolenie podpory Custom Script-ov</h4>
<p>Upravíme konfiguračný súbor pre Zabbix agent, a pridáme povolenie pre
vlastné skripty. Kedysi sa toto nastavenie volalo
&quot;EnableRemoteCommands&quot;.</p>
<blockquote>
<p># vi /etc/zabbix/zabbix_agentd.conf</p>
</blockquote>
<p>Upravíme nastavenie:</p>
<blockquote>
<p>AllowKey=system.run[*]</p>
</blockquote>
<h4 id="založenie-vlasntého-item-u">Založenie vlasntého Item-u</h4>
<p>Pridáme samotný príkaz ktorý chceme spúštať, a pridelíme mu názov:</p>
<blockquote>
<p>echo 'UserParameter=custom.sensors,/usr/bin/sensors -j'
&gt;/etc/zabbix/zabbix_agentd.conf.d/moje_checky.conf</p>
</blockquote>
<h4 id="zabbix-web---gui">Zabbix web - GUI</h4>
<p>Teraz už len vytvoriť nový Item v GUI Zabbixu a ako názov Item-u použiť:</p>
<blockquote>
<p>custom.sensors</p>
</blockquote>
<h4 id="užitočné">Užitočné</h4>
<blockquote>
<p>zabbix_agentd -R userparameter_reload</p>
</blockquote>

  </div>
</body>
</html>
